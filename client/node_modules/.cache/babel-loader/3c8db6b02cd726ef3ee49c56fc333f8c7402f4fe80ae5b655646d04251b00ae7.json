{"ast":null,"code":"import axios from 'axios';\nclass RankingService {\n  constructor() {\n    this.baseURL = '/api';\n  }\n  async getRanking(period = 'all') {\n    try {\n      const token = localStorage.getItem('token'); // o donde guardes tu JWT\n\n      const response = await axios.get(`${this.baseURL}/ranking`, {\n        params: {\n          period\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log('RAW RESPONSE:', response.data); // para ver si es JSON o HTML\n\n      const {\n        ranking,\n        period: periodLabel\n      } = response.data.data;\n      return {\n        ranking,\n        period: periodLabel\n      };\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Error al obtener ranking:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Error al obtener ranking');\n    }\n  }\n  async getStats() {\n    try {\n      const response = await axios.get(`${this.baseURL}/ranking/stats`);\n      return response.data.data;\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Error al obtener estadísticas');\n    }\n  }\n}\nexport const rankingService = new RankingService();","map":{"version":3,"names":["axios","RankingService","constructor","baseURL","getRanking","period","token","localStorage","getItem","response","get","params","headers","Authorization","console","log","data","ranking","periodLabel","error","_error$response","_error$response2","_error$response2$data","message","Error","getStats","_error$response3","_error$response3$data","rankingService"],"sources":["C:/Users/carlos.ochoa/Desktop/ING WEB 2025/crud-mvc-app/client/src/services/rankingService.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport interface RankingEntry {\r\n  userId: number;\r\n  userName: string;\r\n  uniqueCards: number;\r\n  totalCards: number;\r\n  rarityScore: number;\r\n  recentActivity: number;\r\n  totalScore: number;\r\n  position: number;\r\n}\r\n\r\nclass RankingService {\r\n  private baseURL = '/api';\r\n\r\n  async getRanking(period: string = 'all') {\r\n  try {\r\n    const token = localStorage.getItem('token'); // o donde guardes tu JWT\r\n\r\n    const response = await axios.get(`${this.baseURL}/ranking`, {\r\n      params: { period },\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n\r\n    console.log('RAW RESPONSE:', response.data); // para ver si es JSON o HTML\r\n\r\n    const { ranking, period: periodLabel } = response.data.data;\r\n    return { ranking, period: periodLabel };\r\n  } catch (error: any) {\r\n    console.error('Error al obtener ranking:', error.response?.data || error.message);\r\n    throw new Error(error.response?.data?.message || 'Error al obtener ranking');\r\n  }\r\n}\r\n\r\n\r\n\r\n  async getStats() {\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/ranking/stats`);\r\n      return response.data.data;\r\n    } catch (error: any) {\r\n      throw new Error(error.response?.data?.message || 'Error al obtener estadísticas');\r\n    }\r\n  }\r\n}\r\n\r\nexport const rankingService = new RankingService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAazB,MAAMC,cAAc,CAAC;EAAAC,YAAA;IAAA,KACXC,OAAO,GAAG,MAAM;EAAA;EAExB,MAAMC,UAAUA,CAACC,MAAc,GAAG,KAAK,EAAE;IACzC,IAAI;MACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;;MAE7C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACP,OAAO,UAAU,EAAE;QAC1DQ,MAAM,EAAE;UAAEN;QAAO,CAAC;QAClBO,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUP,KAAK;QAChC;MACF,CAAC,CAAC;MAEFQ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAC;;MAE7C,MAAM;QAAEC,OAAO;QAAEZ,MAAM,EAAEa;MAAY,CAAC,GAAGT,QAAQ,CAACO,IAAI,CAACA,IAAI;MAC3D,OAAO;QAAEC,OAAO;QAAEZ,MAAM,EAAEa;MAAY,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAU,EAAE;MAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACnBR,OAAO,CAACK,KAAK,CAAC,2BAA2B,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,uBAAdA,eAAA,CAAgBJ,IAAI,KAAIG,KAAK,CAACI,OAAO,CAAC;MACjF,MAAM,IAAIC,KAAK,CAAC,EAAAH,gBAAA,GAAAF,KAAK,CAACV,QAAQ,cAAAY,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBL,IAAI,cAAAM,qBAAA,uBAApBA,qBAAA,CAAsBC,OAAO,KAAI,0BAA0B,CAAC;IAC9E;EACF;EAIE,MAAME,QAAQA,CAAA,EAAG;IACf,IAAI;MACF,MAAMhB,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACP,OAAO,gBAAgB,CAAC;MACjE,OAAOM,QAAQ,CAACO,IAAI,CAACA,IAAI;IAC3B,CAAC,CAAC,OAAOG,KAAU,EAAE;MAAA,IAAAO,gBAAA,EAAAC,qBAAA;MACnB,MAAM,IAAIH,KAAK,CAAC,EAAAE,gBAAA,GAAAP,KAAK,CAACV,QAAQ,cAAAiB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBV,IAAI,cAAAW,qBAAA,uBAApBA,qBAAA,CAAsBJ,OAAO,KAAI,+BAA+B,CAAC;IACnF;EACF;AACF;AAEA,OAAO,MAAMK,cAAc,GAAG,IAAI3B,cAAc,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}