{"ast":null,"code":"import axios from 'axios';\nclass RankingService {\n  constructor() {\n    this.baseURL = '/api';\n  }\n  async getRanking(period = 'all') {\n    try {\n      const token = localStorage.getItem('token'); // asegÃºrate que existe\n\n      const response = await axios.get(`${this.baseURL}/ranking`, {\n        params: {\n          period\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log('Respuesta recibida:', response.data);\n      const {\n        ranking,\n        period: periodLabel\n      } = response.data.data;\n      return {\n        ranking,\n        period: periodLabel\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('ðŸ”¥ ERROR COMPLETO:', error);\n      console.error('ðŸ”¥ error.response:', error.response);\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al obtener ranking');\n    }\n  }\n  async getStats() {\n    try {\n      const response = await axios.get(`${this.baseURL}/ranking/stats`);\n      return response.data.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Error al obtener estadÃ­sticas');\n    }\n  }\n}\nexport const rankingService = new RankingService();","map":{"version":3,"names":["axios","RankingService","constructor","baseURL","getRanking","period","token","localStorage","getItem","response","get","params","headers","Authorization","console","log","data","ranking","periodLabel","error","_error$response","_error$response$data","Error","message","getStats","_error$response2","_error$response2$data","rankingService"],"sources":["C:/Users/carlos.ochoa/Desktop/ING WEB 2025/crud-mvc-app/client/src/services/rankingService.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport interface RankingEntry {\r\n  userId: number;\r\n  userName: string;\r\n  uniqueCards: number;\r\n  totalCards: number;\r\n  rarityScore: number;\r\n  recentActivity: number;\r\n  totalScore: number;\r\n  position: number;\r\n}\r\n\r\nclass RankingService {\r\n  private baseURL = '/api';\r\n\r\n  async getRanking(period: string = 'all') {\r\n  try {\r\n    const token = localStorage.getItem('token'); // asegÃºrate que existe\r\n\r\n    const response = await axios.get(`${this.baseURL}/ranking`, {\r\n      params: { period },\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n\r\n    console.log('Respuesta recibida:', response.data);\r\n\r\n    const { ranking, period: periodLabel } = response.data.data;\r\n    return { ranking, period: periodLabel };\r\n  } catch (error: any) {\r\n    console.error('ðŸ”¥ ERROR COMPLETO:', error);\r\n    console.error('ðŸ”¥ error.response:', error.response);\r\n    throw new Error(error.response?.data?.message || 'Error al obtener ranking');\r\n  }\r\n}\r\n\r\n  async getStats() {\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/ranking/stats`);\r\n      return response.data.data;\r\n    } catch (error: any) {\r\n      throw new Error(error.response?.data?.message || 'Error al obtener estadÃ­sticas');\r\n    }\r\n  }\r\n}\r\n\r\nexport const rankingService = new RankingService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAazB,MAAMC,cAAc,CAAC;EAAAC,YAAA;IAAA,KACXC,OAAO,GAAG,MAAM;EAAA;EAExB,MAAMC,UAAUA,CAACC,MAAc,GAAG,KAAK,EAAE;IACzC,IAAI;MACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;;MAE7C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACP,OAAO,UAAU,EAAE;QAC1DQ,MAAM,EAAE;UAAEN;QAAO,CAAC;QAClBO,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUP,KAAK;QAChC;MACF,CAAC,CAAC;MAEFQ,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEN,QAAQ,CAACO,IAAI,CAAC;MAEjD,MAAM;QAAEC,OAAO;QAAEZ,MAAM,EAAEa;MAAY,CAAC,GAAGT,QAAQ,CAACO,IAAI,CAACA,IAAI;MAC3D,OAAO;QAAEC,OAAO;QAAEZ,MAAM,EAAEa;MAAY,CAAC;IACzC,CAAC,CAAC,OAAOC,KAAU,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACnBP,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1CL,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACV,QAAQ,CAAC;MACnD,MAAM,IAAIa,KAAK,CAAC,EAAAF,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBJ,IAAI,cAAAK,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,0BAA0B,CAAC;IAC9E;EACF;EAEE,MAAMC,QAAQA,CAAA,EAAG;IACf,IAAI;MACF,MAAMf,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACP,OAAO,gBAAgB,CAAC;MACjE,OAAOM,QAAQ,CAACO,IAAI,CAACA,IAAI;IAC3B,CAAC,CAAC,OAAOG,KAAU,EAAE;MAAA,IAAAM,gBAAA,EAAAC,qBAAA;MACnB,MAAM,IAAIJ,KAAK,CAAC,EAAAG,gBAAA,GAAAN,KAAK,CAACV,QAAQ,cAAAgB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBH,OAAO,KAAI,+BAA+B,CAAC;IACnF;EACF;AACF;AAEA,OAAO,MAAMI,cAAc,GAAG,IAAI1B,cAAc,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}